<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Starlight</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/cadastro.css">
    <script src="js/notify.js"></script>
    <!-- CSS -->
    <!-- https://github.com/simple-notify/simple-notify -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-notify@0.5.5/dist/simple-notify.min.css" />
    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/simple-notify@0.5.5/dist/simple-notify.min.js"></script>

    
</head>
<body>
    <% 
    let msgErro = {"nome":"", "email":"",senha:""};
    let avisoErro = {"nome":"", "email":"",senha:""};
    if(listaErros){
        listaErros.errors.forEach(function(itemErro){
            if(itemErro.path == "nome"){
                avisoErro.nome = "erro";
                msgErro.nome += " "+itemErro.msg;
                %>
                <script>
                    notify("Erro no preenchimento","Verifique o campo nome<br><%= itemErro.msg%>", "error", "center")                        
                </script>
                <%
            }
            if(itemErro.path == "senha"){
                avisoErro.senha = "erro";
                msgErro.senha = itemErro.msg;
                %>
                <script>
                    notify("Erro no preenchimento","Verifique o campo senha<br><%= itemErro.msg%>", "error", "center")                        
                </script>
                <%                
            }
            if(itemErro.path == "email"){
                avisoErro.email = "erro";
                msgErro.email = itemErro.msg;
                %>
                <script>
                    notify("Erro no preenchimento","Verifique o campo e-mail<br><%= itemErro.msg%>", "error", "center")                        
                </script>
                <%
            }
        })
    }
    if (dadosNotificacao) { %>
        <script>
                notify("<%= dadosNotificacao.titulo%>","<%= dadosNotificacao.mensagem%>", "<%= dadosNotificacao.tipo%>", "center")
                if("<%= dadosNotificacao.tipo %>" == "success"){
                    setTimeout(function(){window.location="/login"}, 3000)
                }                        
        </script>
    <% } %>
    <header>
        <!--Area superior / espaço redes sociais e user-->
        <div id="superior">
            <a href="https://www.instagram.com/starlight_lgbt/"><img src="img/instagram.png" alt="instagram" id="iconh"></a>
            <a href="https://www.twitter.com/starlight_lgbt/"><img src="img/twitter.png" alt="twitter" id="iconh"></a>
            <a href="https://www.pinterest.com/starlightsitelgbt/"><img src="img/pinterest.png" alt="pinterest" id="iconh"></a>
            <a href="/usuario"><img src="img/user.png" alt="user-icon" id="iconu"></a>
        </div>
        <a href="/home"><img src="img/logo.png" alt="logo" id="logo"></a>
        <hr>
    </header>
    <main>
        <form action="/cadastrar" method="post"> 
            <div class="area-login">  
                
                <h1 id="txt-login">Cadastro</h1>

                <div class="nome">
                    <input type="text" name="nome" class="<%= avisoErro.nome %>" id="escrita" value="Nome" autocomplete="off" onfocus="this.value='';">
                    <label for="nome"></label>
                </div>
                <span>
                    <%= msgErro.nome %>
                </span>

                <div class="numero">
                    <input type="text" name="usuario" class="<%= avisoErro.nome %>" id="escrita" value="Usuario" autocomplete="off" onfocus="this.value='';">
                    <label for="usuario"></label>
                </div>
                <span>
                    <%= msgErro.nome %>
                </span>


                <div class="email">
                    <input type="text" name="email" class="<%= avisoErro.email %>"  id="escrita" value="E-mail" autocomplete="off" onfocus="this.value='';">
                    <label for="E-mail"></label>
                </div>
                <!-- <span>
                    <%= msgErro.email %>
                </span> -->

                <div class="senha">
                    <input type="password" name="senha" class="<%= avisoErro.senha %>"  id="escrita" value="Senha" autocomplete="off" onfocus="this.value='';">
                    <label for="Senha"></label>
                </div>
                <!-- <span>
                    <%= msgErro.senha %>
                </span> -->

                
                <a href="/politicapriv" id="politicaprivlink"><p id="txt-politica"> Ao se cadastrar você concorda com os termos de Politica e Privacidade!
                </p></a>

                <button type="submit" id="entrar">Cadastrar</button>

                <p>Ja tem uma conta?</p>
                <a href="/login">
                    <input type="button" id="entrar" value="Logar">
                </a>
                
        
            </div>
        </form>
    </main>
    <footer>
        <div id="footer-sociais">
            <a href="https://www.instagram.com/starlight_lgbt/" target="_blank"><img src="img/instagram.png" alt="instagram" id="iconf"></a>
            <a href="https://www.twitter.com/starlight_lgbt/" target="_blank"><img src="img/twitter.png" alt="twitter" id="iconf"></a>
            <a href="https://www.pinterest.com/starlightsitelgbt/" target="_blank"><img src="img/pinterest.png" alt="pinterest" id="iconf"></a>
          </div>
          <div id="links">
            <a href="home"><h2>Home</h2></a>
            <a href="anunciar"><h2>Anunciar</h2></a>
            <a href="sobre nós"><h2>Sobre nós</h2></a>
            <a href="fale conosco"><h2>Fale conosco</h2></a>
          </div>
          
          <img src="img/logo.png" alt=""  id="logo">
          
    </footer>
</body>
</html>
